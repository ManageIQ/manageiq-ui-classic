#column_lists
  - if x_active_tree == :ab_tree
    .col-md-5
      = _('Unassigned:')
      = select_tag('available_fields[]',
        options_for_select(@edit[:new][:available_fields]),
        :multiple => true,
        :class    => "form-control",
        :style    => "overflow-x: scroll;",
        :size     => 8,
        :id       => "available_fields")
    .col-md-1{:style => "padding: 10px"}
      .spacer
      .spacer
      - if @edit[:new][:available_fields].length == 0
        %button.btn.btn-default.btn-block.disabled
          %i.fa.fa-angle-right.fa-lg.hidden-xs.hidden-sm
          %i.fa.fa-lg.fa-angle-right.fa-rotate-90.hidden-md.hidden-lg
      - else
        - t = _("Move selected fields right")
        %button.btn.btn-default.btn-block{:title           => t,
                                :remote          => true,
                                "data-submit"    => 'column_lists',
                                "data-method"    => :post,
                                "data-click_url" => {:url => url_for_only_path(:action => 'group_form_field_changed',
                                                                     :button => 'right',
                                                                     :id     => @custom_button_set.id || 'new')}.to_json}
          %i.fa.fa-angle-right.fa-lg.hidden-xs.hidden-sm
          %i.fa.fa-lg.fa-angle-right.fa-rotate-90.hidden-md.hidden-lg
      - if @edit[:new][:fields].length == 0
        %button.btn.btn-default.btn-block.disabled
          %i.fa.fa-angle-left.fa-lg.hidden-xs.hidden-sm
          %i.fa.fa-lg.fa-angle-left.fa-rotate-90.hidden-md.hidden-lg
      - else
        - t = _("Move selected fields left")
        %button.btn.btn-default.btn-block{:title           => t,
                                :remote          => true,
                                "data-submit"    => 'column_lists',
                                "data-method"    => :post,
                                "data-click_url" => {:url => url_for_only_path(:action => 'group_form_field_changed',
                                                                     :button => 'left',
                                                                     :id     => @custom_button_set.id || 'new')}.to_json}
          %i.fa.fa-angle-left.fa-lg.hidden-xs.hidden-sm
          %i.fa.fa-lg.fa-angle-left.fa-rotate-90.hidden-md.hidden-lg
        .spacer

    .col-md-5
      = _('Selected:')
      = select_tag('selected_fields[]',
        options_for_select(@edit[:new][:fields], @selected),
        :multiple => true,
        :class    => "form-control",
        :style    => "overflow-x: scroll;",
        :size     => 8,
        :id       => "selected_fields")

    .col-md-1{:style => "padding: 10px"}
      .spacer
      .spacer
      - if @edit[:new][:fields].length < 2
        %button.btn.btn-default.btn-block.disabled
          %i.fa.fa-angle-double-up.fa-lg
      - else
        - t = _("Move selected fields to top")
        %button.btn.btn-default.btn-block{:title           => t,
                                :remote          => true,
                                "data-submit"    => 'column_lists',
                                "data-method"    => :post,
                                "data-click_url" => {:url => url_for_only_path(:action => 'group_form_field_changed',
                                                                     :button => 'top',
                                                                     :id     => @custom_button_set.id || 'new')}.to_json}
          %i.fa.fa-angle-double-up.fa-lg
      - if @edit[:new][:fields].length < 2
        %button.btn.btn-default.btn-block.disabled
          %i.fa.fa-angle-up.fa-lg
      - else
        - t = _("Move selected fields up")
        %button.btn.btn-default.btn-block{:title           => t,
                                :remote          => true,
                                "data-submit"    => 'column_lists',
                                "data-method"    => :post,
                                "data-click_url" => {:url => url_for_only_path(:action => 'group_form_field_changed',
                                                                     :button => 'up',
                                                                     :id     => @custom_button_set.id || 'new')}.to_json}
          %i.fa.fa-angle-up.fa-lg
      - if @edit[:new][:fields].length < 2
        %button.btn.btn-default.btn-block.disabled
          %i.fa.fa-angle-down.fa-lg
      - else
        - t = _("Move selected fields down")
        %button.btn.btn-default.btn-block{:title           => t,
                                :remote          => true,
                                "data-submit"    => 'column_lists',
                                "data-method"    => :post,
                                "data-click_url" => {:url => url_for_only_path(:action => 'group_form_field_changed',
                                                                     :button => 'down',
                                                                     :id     => @custom_button_set.id || 'new')}.to_json}
          %i.fa.fa-angle-down.fa-lg
      - if @edit[:new][:fields].length < 2
        %button.btn.btn-default.btn-block.disabled
          %i.fa.fa-angle-double-down.fa-lg
      - else
        - t = _("Move selected fields to bottom")
        %button.btn.btn-default.btn-block{:title           => t,
                                :remote          => true,
                                "data-submit"    => 'column_lists',
                                "data-method"    => :post,
                                "data-click_url" => {:url => url_for_only_path(:action => 'group_form_field_changed',
                                                                     :button => 'bottom',
                                                                     :id     => @custom_button_set.id || 'new')}.to_json}
          %i.fa.fa-angle-double-down
        .spacer
