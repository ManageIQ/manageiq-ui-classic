- url = url_for_only_path(:action => 'zone_field_changed', :id => (@zone.id || "new"))
- unless @editing
  = render :partial => "layouts/flash_msg"
%h3
  = _("Zone Information")
.form-horizontal
  .form-group
    %label.control-label.col-md-2
      = _("Name")
    .col-md-8
      = text_field_tag("name",
                        @edit[:new][:name],
                        :maxlength => 50,
                        :disabled => @editing,
                        :class => "form-control",
                        "data-miq_observe" => {:interval => '.5', :url => url}.to_json)
      - unless @zone.id
        = javascript_tag(javascript_focus('name'))
  .form-group
    %label.control-label.col-md-2
      = _("Description")
    .col-md-8
      = text_field_tag("description",
                        @edit[:new][:description],
                        :maxlength => 50,
                        :class => "form-control",
                        "data-miq_observe" => {:interval => '.5', :url => url}.to_json)
      - if @zone.id && @zone.name.downcase != "default"
        = javascript_tag(javascript_focus('description'))
  .form-group
    %label.control-label.col-md-2
      = _("SmartProxy Server IP")
    .col-md-8
      = text_field_tag("proxy_server_ip",
                        @edit[:new][:proxy_server_ip],
                        :maxlength => 50,
                        :class => "form-control",
                        "data-miq_observe" => {:interval => '.5', :url => url}.to_json)
      - if @zone.id && @zone.name.downcase == "default"
        = javascript_tag(javascript_focus('proxy_server_ip'))

%hr
%h3
  = _("Settings")
.form-horizontal
  .form-group
    %label.control-label.col-md-2
      = _("Max Active VM Scans")
    .col-md-8
      = select_tag('max_scans',
                    options_for_select([[_("Unlimited"), 0]] + [1, 2, 3, 4] + (5..50).step(5).to_a,
                                          @edit[:new][:concurrent_vm_scans]),
                    :class    => "selectpicker")
    :javascript
      miqInitSelectPicker();
      miqSelectPickerEvent('max_scans', "#{url}")
