%div
%div{"ng-if" => "!$ctrl.isMiniLayout", "class" => "card-pf card-pf-aggregate-status", "ng-class" => "{'card-pf-accented': $ctrl.shouldShowTopBorder, 'card-pf-aggregate-status-alt': $ctrl.isAltLayout}"}
  %h2{:class => "card-pf-title"}
    %a{:href => "{{$ctrl.status.href}}", "ng-if" => "$ctrl.status.href"}
      %image{"ng-if" => "$ctrl.status.iconImage", "ng-src" => "{{$ctrl.status.iconImage}}", :alt => "", :class => "card-pf-icon-image"}
      %span{:class => "{{$ctrl.status.iconClass}}"}
      %span{:class => "card-pf-aggregate-status-count"}
        {{$ctrl.status.count}}
      %span{:class => "card-pf-aggregate-status-title"}
        {{$ctrl.status.title}}
    %span{"ng-if" => "!$ctrl.status.href"}
      %image{"ng-if" => "$ctrl.status.iconImage && $ctrl.status.largeIcon", "ng-src" => "{{$ctrl.status.iconImage}}", :alt => "", :class => "", :width => 72, :height => 72}
      %image{"ng-if" => "$ctrl.status.iconImage && !$ctrl.status.largeIcon", "ng-src" => "{{$ctrl.status.iconImage}}", :alt => "", :class => "card-pf-icon-image"}
      %span{:class => "{{$ctrl.status.iconClass}}"}
      %span{:class => "card-pf-aggregate-status-count"}
        {{$ctrl.status.count}}
      %span{:class => "card-pf-aggregate-status-title"}
        {{$ctrl.status.title}}

  %div{:class => "card-pf-body"}
    %p{:class => "card-pf-aggregate-status-notifications"}
      %span{:class => "card-pf-aggregate-status-notification", "ng-repeat" => "notification in $ctrl.status.notifications"}
        %a{:href => "{{notification.href}}", "ng-if" => "notification.href"}
          %image{"ng-if" => "notification.iconImage", "ng-src" => "{{notification.iconImage}}", :alt => "", :class => "card-pf-icon-image"}
          %span{:class => "{{notification.iconClass}}"}
          {{ notification.count }}

        %span{"ng-if" => "!notification.href"}
          %image{"ng-if" => "notification.iconImage", "ng-src" => "{{notification.iconImage}}", :alt => "", :class => "card-pf-icon-image"}
          %span{:class => "{{notification.iconClass}}"}
          {{ notification.count }}
    %pf-empty-chart{'ng-if' => "$ctrl.status.notifications[0].dataAvailable === false"}

%div{"ng-if" => "$ctrl.isMiniLayout", :class => "card-pf card-pf-aggregate-status card-pf-aggregate-status-mini", "ng-class" => "{'card-pf-accented': $ctrl.shouldShowTopBorder}"}
  %h2{:class => "card-pf-title"}
    %a{"ng-if" => "$ctrl.status.href", :href => "{{$ctrl.status.href}}"}
      %image{"ng-if" => "$ctrl.status.iconImage", "ng-src" => "{{$ctrl.status.iconImage}}", :alt => "", :class => "card-pf-icon-image"}
      %span{"ng-if" => "$ctrl.status.iconClass", :class => "{{$ctrl.status.iconClass}}"}
      %span{:class => "card-pf-aggregate-status-count"}
        {{$ctrl.status.count}}
      {{$ctrl.status.title}}

    %span{"ng-if" => "!$ctrl.status.href"}
      %span{:class => "card-pf-aggregate-status-count"}
        {{$ctrl.status.count}}
      {{$ctrl.status.title}}

  %div{:class => "card-pf-body"}
    %p{"ng-if" => "$ctrl.status.notification.iconImage || $ctrl.status.notification.iconClass || $ctrl.status.notification.count", :class => "card-pf-aggregate-status-notifications"}
      %span{:class => "card-pf-aggregate-status-notification", :title => "{{$ctrl.status.notification.tooltip}}" }
        %a{"ng-if" => "$ctrl.status.notification.href && !$ctrl.status.notification.count", :href => "{{$ctrl$ctrl.status.notification.href}}"}
          %image{"ng-if" => "$ctrl.status.notification.iconImage", "ng-src" => "{{$ctrl.status.notification.iconImage}}", :alt => "", :class => "card-pf-icon-image"}
          %span{"ng-if" => "$ctrl.status.notification.iconClass", :class => "{{$ctrl.status.notification.iconClass}}"}
          %span{"ng-if" => "$ctrl.status.notification.count"}
            {{$ctrl.status.notification.count}}

        %span{"ng-if" => "!$ctrl.status.notification.href && $ctrl.status.notification.count"}
          %image{"ng-if" =>"$ctrl.status.notification.iconImage", "ng-src" => "{{$ctrl.status.notification.iconImage}}", :alt => "", :class => "card-pf-icon-image"}
          %span{"ng-if" => "$ctrl.status.notification.iconClass", :class => "{{$ctrl.status.notification.iconClass}}"}
          %span{"ng-if" => "$ctrl.status.notification.count"}
            {{$ctrl.status.notification.count}}

        %span{"ng-if" => "!$ctrl.status.notification.href && !$ctrl.status.notification.count"}
          %image{"ng-if" =>"$ctrl.status.notification.iconImage", "ng-src" => "{{$ctrl.status.notification.iconImage}}", :alt => "", :class => "card-pf-icon-image"}
          %span{"ng-if" => "$ctrl.status.notification.iconClass", :class => "{{$ctrl.status.notification.iconClass}}"}
