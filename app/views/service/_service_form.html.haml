- @angular_form = true

%form.form-horizontal#form_div{"name"          => "angularForm",
                               "ng-controller" => "serviceFormController as vm",
                               "ng-show"       => "vm.afterGet",
                               "model"         => "vm.serviceModel",
                               "model-copy"    => "vm.modelCopy",
                               "miq-form"      => true,
                               "form-changed"  => true}
  = render :partial => "layouts/flash_msg"
  %div
    %div
      .form-group{"ng-class" => "{'has-error': angularForm.name.$invalid}"}
  %div
    %div
      .form-group{"ng-class" => "{'has-error': angularForm.name.$invalid}"}
        %label.col-md-2.control-label{"for" => "name"}
          = _("Name")
        .col-md-8
          %input.form-control{"type"        => "text",
                              "id"          => "name",
                              "name"        => "name",
                              "ng-model"    => "vm.serviceModel.name",
                              "maxlength"   => "#{ViewHelper::MAX_NAME_LEN}",
                              "required"    => true,
                              "auto-focus"  => ""}
          %span.help-block{"ng-show" => "angularForm.name.$error.miqrequired"}
            = _("Required")
      .form-group{"ng-class" => "{'has-error': angularForm.description.$invalid}"}
        %label.col-md-2.control-label{"for" => "description"}
          = _("Description")
        .col-md-8
          %input.form-control{"type"        => "text",
                              "id"          => "description",
                              "name"        => "description",
                              "ng-model"    => "vm.serviceModel.description",
                              "maxlength"   => "#{ViewHelper::MAX_DESC_LEN}",
                              "required"    => true}
  = render :partial => "layouts/angular/generic_form_buttons"

:javascript
  ManageIQ.angular.app.value('serviceFormId', '#{@service.id}');
  miq_bootstrap('#form_div');
